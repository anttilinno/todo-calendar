# Requirements Archive: v1.4 Data & Editing

**Archived:** 2026-02-06
**Status:** SHIPPED

This is the archived requirements specification for v1.4.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1.4 Requirements

Requirements for milestone v1.4 Data & Editing.

### Database Backend

- [x] **DB-01**: Todos are stored in a SQLite database instead of JSON files
- [x] **DB-02**: Store interface extracted to decouple consumers from backend
- [x] **DB-03**: Database schema versioned via PRAGMA user_version with hand-written migrations
- [x] **DB-04**: Type-safe database queries via hand-written SQL with scan helpers
- [x] **DB-05**: All existing CRUD operations work identically with the new backend

### Markdown Templates

- [x] **MDTPL-01**: Todos have a markdown body field beyond the single-line title
- [x] **MDTPL-02**: User can create reusable markdown templates with {{.Variable}} placeholders
- [x] **MDTPL-03**: Creating a todo from a template fills in placeholders interactively
- [x] **MDTPL-04**: Todo body renders as styled markdown (via Glamour) in a preview

### External Editor

- [x] **EDITOR-01**: User can press a key to open the selected todo body in $EDITOR
- [x] **EDITOR-02**: App uses $VISUAL -> $EDITOR -> vi fallback chain
- [x] **EDITOR-03**: Temp file uses .md extension for editor syntax highlighting
- [x] **EDITOR-04**: Body is only saved if content actually changed

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| DB-01 | Phase 14 | Complete |
| DB-02 | Phase 14 | Complete |
| DB-03 | Phase 14 | Complete |
| DB-04 | Phase 14 | Complete |
| DB-05 | Phase 14 | Complete |
| MDTPL-01 | Phase 15 | Complete |
| MDTPL-02 | Phase 15 | Complete |
| MDTPL-03 | Phase 15 | Complete |
| MDTPL-04 | Phase 15 | Complete |
| EDITOR-01 | Phase 16 | Complete |
| EDITOR-02 | Phase 16 | Complete |
| EDITOR-03 | Phase 16 | Complete |
| EDITOR-04 | Phase 16 | Complete |

---

## Milestone Summary

**Shipped:** 13 of 13 v1.4 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-06 as part of v1.4 milestone completion*

# Milestone v1.7: Unified Add Flow & Polish

**Status:** SHIPPED 2026-02-07
**Phases:** 23-25
**Total Plans:** 4

## Overview

Unify the three separate todo creation flows (quick add, dated add, template add) into a single full-pane form, fix today indicator blending, and clean up dead code from previous milestones.

## Phases

### Phase 23: Cleanup & Calendar Polish
**Goal**: Dead code is removed and the calendar today indicator correctly blends with todo status
**Depends on**: Nothing (independent cleanup)
**Requirements**: CLN-01, CLN-02, CLN-03, CAL-01
**Plans**: 2 plans

Plans:
- [x] 23-01-PLAN.md -- Remove JSON store, blend today indicator with todo status
- [x] 23-02-PLAN.md -- Remove obsolete A and t keybindings and all dead code

### Phase 24: Unified Add Form
**Goal**: User creates any todo (floating, dated, or with body) through a single full-pane form
**Depends on**: Phase 23 (old keybindings removed first)
**Requirements**: ADD-01, ADD-02, ADD-05, ADD-06, ADD-07
**Plans**: 1 plan

Plans:
- [x] 24-01-PLAN.md -- Extend inputMode to 4-field form with Tab cycling, save logic, view rendering, and help bindings

### Phase 25: Template Picker Integration
**Goal**: User can select a template from within the add form to pre-fill title and body, then edit before saving
**Depends on**: Phase 24 (add form exists)
**Requirements**: ADD-03, ADD-04
**Plans**: 1 plan

Plans:
- [x] 25-01-PLAN.md -- Wire template picker into add form with placeholder prompting and pre-fill

## Milestone Summary

**Key Decisions:**
- TodoStore interface extracted to iface.go (clean DI, enables future backends)
- Blended today styles use indicator/done foreground with today background
- Boolean sub-state flags (pickingTemplate/promptingPlaceholders) instead of new top-level modes
- Shared m.input between title field and placeholder prompting with explicit state restoration
- inputMode 4-field cycle (0-1-2-3-0) extends editMode's 3-field pattern

**Issues Resolved:**
- JSON store dead code removed (471 lines)
- Old A/t keybindings and 3 unused modes removed (328 lines)
- Today indicator now shows pending/done status instead of plain today highlight

**Issues Deferred:**
- None

**Technical Debt Incurred:**
- None -- this milestone resolved previous tech debt (JSON store removal)

---

_For current project status, see .planning/ROADMAP.md_
